<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App</title>
    <link rel="stylesheet" href="">
</head>
<body>
    <h1>TODO APP</h1>
    <h2 id="date"></h2>
    <input id="todo-title" type="text" required>
    <input id="date-picker" type="date">
    <button onclick="addTodo()">ADD TODO</button>
    <div id="todo-list"></div>
    
    
</body>
<script>
    // let todos;
    // const savetodos = JSON.parse(localStorage.getItem('items))
    // if(Array.isArray(savedTodos)) {
    //     todos = saveTodos
    // } else {
    //     todos = [{
    //     title : "Get groceries",
    //     dueDate: "2023-4-16"
    // }];
    // }
    function  displayCurrentDate() {
        let date = new Date();
        date = date.toString().split(" ")
        console.log(date);
        document.querySelector("#date").innerHTML = date[0] + " - " + date[1] + ".   " + date[2] + ", " + date[3]
    }
   window.onload = function(){
        displayCurrentDate()
    }
    const todos = [{
        title : "Get Groceries",
        dueDate: "2023-4-15"
    }]
    

    render()
    // savedTodos();
    function addTodo() {
        const textbox = document.querySelector("#todo-title");
        const title = textbox.value;
        textbox.value = "";
        const datePicker = document.querySelector("#date-picker");
        const dueDate = datePicker.value
        const id = new Date().getTime();
        todos.push({
            title : title,
            dueDate : dueDate
            
        })
        render()
        
     function deleteTodo() {
        console.log('delete')
     }   
    }
    // function savedTodos(){
    //     localStorage.setItem('todos', JSON.stringify(todos));
    // }
    function render() {
        document.querySelector('#todo-list').innerHTML = '';
        todos.forEach(function (todo){
        const element = document.createElement("div");
        element.textContent = `${todo.title} ${todo.dueDate}`;
        const deleteButton = document.createElement('button');
        deleteButton.textContent = "Delete";
        deleteButton.style = "margin-left: 12px;";
        deleteButton.onclick = "deleteTodo";
        
        
        element.appendChild(deleteButton);
        const todoList = document.querySelector("#todo-list")
        todoList.appendChild(element);
    })
    }
 
</script>
</html>